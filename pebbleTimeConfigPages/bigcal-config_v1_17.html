<!DOCTYPE html><html>  <head>    <title>Big Calendar Configuration</title>    <meta charset="UTF-8">    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0" name="viewport">    <title></title>        <link rel="stylesheet" href="../dist/css/slate.min.css">        <!--    <link rel="stylesheet" href="./config_files/slate.css">    <link rel="stylesheet" href="./config_files/custom.css">  -->  <style>  .title {    padding: 15px 10px;    text-transform: uppercase;    font-family: 'PT Sans', sans-serif;    font-size: 1.2em;    font-weight: 500;    color: #888888;    text-align: center;  }  </style>  </head>  <body>  <form id="main-form">    <h1 id="intodeb" class='title'>Big Calendar configration</h1>    <div class='item-container'>      <div class='item-container-footer'>        <div class='item'>          Choose settings and click SAVE button to submit        </div>      </div>    </div>    <div class="item-container">      <div class="item-container-header">Global Setting</div>      <div class="item-container-content">      <label class="item">          Color Theme      <select id="colorthema_select"  class="item-select">        <option value="black">Black</option>        <option value="white">White</option>        <option value="blue">Blue</option>        <option value="yellow">Yellow</option>        <option value="green">Green</option>        <option value="pink">Pink</option>        <option value="brown">Brown</option>        <option value="cyan">Cyan</option>      </select>      </label>      </div>          <div class="item-container-header">Date/Time Setting</div>      <div class="item-container-content">      <label class="item" id="datesel">        Date Format        <select id="dateform_select" dir="rtl" class="item-select">          <option dir="ltr" value="MDw">12/25 Fri</option>          <option dir="ltr" value="mDw">Dec 25 Fri</option>          <option dir="ltr" value="DMw">25/12 Fri</option>                <option dir="ltr" value="M">12</option>                <option dir="ltr" value="m">Dec</option>                <option dir="ltr" value="MD">12/25</option>          <option dir="ltr" value="mD">Dec 25</option>          <option dir="ltr" value="DM">25/12</option>                <option dir="ltr" value="off">off</option>        </select>      </label>      <label class="item">        Monday First        <select id="mon1st_select" class="item-select">          <option value="off">off</option>          <option value="on">on</option>        </select>      </label>      <label class="item">        Time Type        <select id="timetype_select" dir="rtl" class="item-select">          <option dir="ltr" value="off">off</option>          <option dir="ltr" value="12H">12H</option>          <option dir="ltr" value="24H">24H</option>        </select>      </label>      <label class="item">        Display Second        <select id="second_select" class="item-select">          <option value="off">off</option>          <option value="on">on</option>        </select>      </label>    </div>    <div class='item-container-footer'>      Notice: if the date format selected with Day of week then App can't display second    </div>    </div>    <div class="item-container-header">Calendar Setting</div>    <div class="item-container-content">      <label class="item">        Display Pre/Next Days        <select id="glaydays_select" class="item-select">          <option value="off">off</option>          <option value="on" selected>on</option>        </select>      </label>      <label class="item">        Holidays        <div class="item-input-wrapper">          <input type="text" class="item-input" id="holiday_input" placeholder="(e.g.) 1/1,1/2,12/25">        </div>        <div class="gray">Samples          <input type="button" class="item-button2" value="2017 Japan" onclick="pasteHolidays('1/1,1/2,1/9,2/11,3/20,4/29,5/3,5/4,5/5,7/17,8/11,9/18,9/23,10/9,11/3,11/23,12/23')">          <input type="button" class="item-button2" value="2017 USA" onclick="pasteHolidays('1/1,1/2,1/16,1/20,2/20,5/29,7/4,9/4,10/9,11/10,11/11,11/23,12/25')">        </div>      </label>    </div>    <div class="item-container-header">Weather Setting</div>    <div class="item-container-content">      <label class="item">        Unit of temperature/wind speed        <select id="wunits_select" class="item-select">          <option value="metric">C/meter</option>          <option value="imperial">F/mile</option>        </select>      </label>      <label class="item">        Location by        <select id="wloctype_select"  dir="rtl" class="item-select">          <option dir="ltr" value="gps">GPS</option>          <option dir="ltr" value="city">City name</option>          <option dir="ltr" value="zip">ZIP Code</option>          <option dir="ltr" value="latlon">Latitude, Longitude</option>        </select>      </label>      <label class="item">        <div class="item-input-wrapper" style="display: none;"  id="wloc_input_line">          <input type="text" class="item-input" id="wloc_input" placeholder="">        </div>      </label>    </div>    <div class='item-container'>      <div class='button-container'>        <input id='save_button' type='button' class='item-button' value='SAVE'>      </div>    </div>	     <div class='item-container-footer'>      copyright kaaku ^_^    </div>  <dl id="debug" style="display: none;">    <input type="text" id="debdate" size="40" value="" >  </dl>  <style>  .gray {  color: gray;  font-size: 0.9em;  }  .item-button2 {  height: 28px;  background-color: #999999;  border-radius: 5px;  color: white;  margin-top: 5px;  font-size: 0.8em;  padding-right: 2em;  padding-left: 2em;  border: none;  -webkit-appearance: none;  -moz-appearance: none;  -ms-appearance: none;  appearance: none; }	</style>		    <script>      function saveOptions() {        var colorthemaSelect = document.getElementById("colorthema_select");        var dateformSelect = document.getElementById("dateform_select");        var timetypeSelect = document.getElementById("timetype_select");        var secondSelect = document.getElementById("second_select");        var mon1stSelect = document.getElementById("mon1st_select");        var glaydaysSelect = document.getElementById("glaydays_select");        var wunitsSelect = document.getElementById("wunits_select");        var wloctypeSelect = document.getElementById("wloctype_select");       var options = {          "colorthema": colorthemaSelect.options[colorthemaSelect.selectedIndex].value,          "dateform": dateformSelect.options[dateformSelect.selectedIndex].value,          "timetype": timetypeSelect.options[timetypeSelect.selectedIndex].value,          "second": secondSelect.options[secondSelect.selectedIndex].value,          "mon1st": mon1stSelect.options[mon1stSelect.selectedIndex].value,          "glaydays": glaydaysSelect.options[glaydaysSelect.selectedIndex].value,          "wunits": wunitsSelect.options[wunitsSelect.selectedIndex].value,          "wloctype": wloctypeSelect.options[wloctypeSelect.selectedIndex].value,          "wlocinput": document.getElementById("wloc_input").value.replace(/,/g, ";"),          "holidayinput": document.getElementById("holiday_input").value.replace(/,/g, ";"),          "debdate" : document.getElementById("debdate").value,        }                return options;      };      // Get query variables      function getQueryParam(variable, defaultValue) {        // Find all URL parameters        var query = location.search.substring(1);        var vars = query.split('&');        for (var i = 0; i < vars.length; i++) {          var pair = vars[i].split('=');          // If the query variable parameter is found, decode it to use and return it for use          if (pair[0] === variable) {            return decodeURIComponent(pair[1]);          }        }        return defaultValue || false;      }      var submitButton = document.getElementById("save_button");      submitButton.addEventListener("click",         function() {          console.log("Submit");          var options = saveOptions();          var return_to = getQueryParam('return_to', 'pebblejs://close#');          var location = return_to + encodeURIComponent(JSON.stringify(options));                    document.location = location;        },       false);						      var holidayInput = document.getElementById("holiday_input");      function pasteHolidays(str){        document.getElementById("holiday_input").value = str;      }      var intodebcnt = 0;      var intodeb = document.getElementById("intodeb");      intodeb.addEventListener("click",         function() {          if(++intodebcnt >= 3){           var debug_tag = document.getElementById("debug");          debug_tag.style.display = "block";        }       },        false);           var wloctypeSelect = document.getElementById("wloctype_select");      var wlocLine = document.getElementById("wloc_input_line");      var wlocInput = document.getElementById("wloc_input");      var update_wlocline = function (start){          if(start  != "start"){             wlocInput.value = "";          }          var selvalue = wloctypeSelect.options[wloctypeSelect.selectedIndex].value ;          if(selvalue == "gps"){            wlocLine.style.display = "none";          }else{            wlocLine.style.display = "block";            switch(selvalue){            case "city":              wlocInput.placeholder = "(e.g.) Tokyo,jp  (use ISO 3166 country code)";              break;            case "zip":              wlocInput.placeholder = "(e.g.) 180-0001,jp  (use ISO 3166 country code)";              break;            case "latlon":              wlocInput.placeholder = "(e.g.) 35.708,139.581";                            break;            }          }      };      wloctypeSelect.addEventListener("change", update_wlocline, false);     var optionString = location.href.split("?")[1];     if(typeof optionString === "string"){        optionString = optionString.split("&")[0];        if(typeof optionString === "string"){    	   //document.write(options+"<p>num="+options.length+"<p>");         var options = optionString.split(",");         if(typeof options === "object"){        	for (var idx = 0; idx < options.length; idx++){            if(options[idx] == "round"){              var debug_tag = document.getElementById("datesel");              debug_tag.style.display = "none";            }else if(options[idx] == "bw"){              // delete colorthema_select options without top two option              var colselect = document.getElementById("colorthema_select");              var len = colselect.length;              for(var i = len-1; i >= 2 ; i--){                colselect.remove(i);              }            }else if(options[idx] == "debug"){                // hide tags for debug                var debug_tag = document.getElementById("debug");      //          var debug_tag = document.getElementsByTagName("dl");                  debug_tag.style.display = "block";            }else{          			var optValue = options[idx].split("=");                if(optValue[0] == "wlocinput"){                  wlocInput.value = optValue[1].replace(/;/g, ",");                }else if(optValue[0] == "holidayinput"){                  holidayInput.value = optValue[1].replace(/;/g, ",");                }else{            			var selectItem = optValue[0]+"_select";            			var selectedValue = optValue[1];            			var element = document.getElementById(selectItem);            			//document.write(selectItem+" = "+selectedValue+"<p>");            			for (var i = 0; i < element.options.length; i++) {             				//document.write(i+":"+element.options[i].value+"<p>");            				if ( element.options[i].value == selectedValue ){            					element.selectedIndex = i;            					break;            				}                   }          			}              }        		}          }        }    }	  update_wlocline("start");	  	  </script>    <script type="text/javascript" src="../dist/js/slate.js"></script>  </body></html>