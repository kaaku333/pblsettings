# Multi Time Viewer 説明書

[TOC]

## Multi Time Viewer とは

Multi Time Viewer は任意のイベントまでの時間を表示するアプリです。  
たとえば、下記のようないろいろな時間を表示するのに使えます。

- 毎日同じ時間に繰り返すルーティンの時間  
  家を出る時間、昼食の時間など
- 特定の日からの日数、特定の日までの日数  
  誕生日からの日数、将来のイベントまでの日数など
- Googleカレンダーの次のイベントまでの時間  
  プライベートな予定までの時間など
- Outlookの次の予定までの時間  
  仕事の予定までの時間など
- 次の電車までの時間  
  よく使う駅の時刻表の時間など
- 世界時計  
  任意の国の時刻など

現在時刻もいつも表示しているので 時計としても使えます。


## 基本的な使い方

1. Pebble に Multi Time Viewer アプリをインストールする
2. Pebble App から Multi Time Viewer の設定画面を開いて、**予定時刻ファイル**がある URL を入力する
3. 設定画面の SAVE ボタンを押し、イベント時刻設定ファイルを Multi Time Viewer にダウンロードする
4. Pebble でUp/Downボタンを押して、イベントを切り替え表示する


## 利用可能な予定時刻ファイル

以下の予定時刻ファイルをネットから読み込むことができます。
認証が必要がなく URL で直接ダウンロードできる場所に置いておく必要があります。

- Time List フォーマット(拡張子.txt)  
  Multi TIme Viewer 専用フォーマットのイベント定義テキストファイル。  
  １行１イベントでテキストエディタで簡易に作成することができます。
  + [定期的な予定(毎日)](MTVdailySample.txt)
  + [定期的な予定(毎週、毎月)](MTVmonthSample.txt)
  + [特定の日](MTVyearSample.txt)
  + [現時刻からの任意の時間オフセットした時間(現地時間およびUTC時間)](MTVworldSample.txt)
  + [他のフォーマットのファイルの読み込み](MTVdailySample2.txt)

  フォーマット詳細は  

- iCalendar フォーマット(拡張子.ics)  
  一般的な予定表アプリで使われる共通フォーマットデータ。  
  例えば下記のようなデータを利用できます。
  + Google カレンダーの非公開リンク URL
  + Outlook で保存した iCalendar ファイルを dropbox上に置いた公開リンク URL

- Next Train フォーマット(拡張子.tbl)  
  次の電車までの時間を表示するためのアプリでよく使われる時刻表データ。  
  本家のアプリ開発は終了してますが、データフォーマットとしては継続して使われてます。 
  + 本家 [NextTrain on the Web](http://office.toyolab.com/nexttrain/)
  + 時刻表変換サイト [えきから時刻表→NextTrainデータ](http://toshi-u.sakura.ne.jp/tt2tbl/ej2tbl.html)


## 付加機能

- アラーム機能   
  個々のアイテムには時間が来たら振動するアラームをTime Listデータもしくはメニューで個別に設定できます。  
  アラーム時間が来たら自動的に 本アプリを起動させることも出来ます。  
  現在時刻からちょっと先にアラームを追加したり、任意のイベント前後にアラームを追加したり出来ます。  
  全アイテムのアラームを一括On/Offしたり、デフォルトの設定に戻したり出来ます。  
  iCalendar の予定をロードするときに一括してアラームOnにする事も出来ます。

- スマホ切断振動機能
  Watchface によくある、スマホ Pebble App との接続が切れたときに振動する機能です。


## 操作方法




## タイトルメニュー  

予定時刻ファイルのタイトルで ENTER ボタンを押すと表示されるメニュー。  

- LOAD  
  該当予定時刻ファイルを再度ロードします。

- DELETE  
  Pebble上から該当予定時刻ファイルを削除します。  
  元の予定時刻ファイルは消えません。

- NextTrain Holiday  
  Next Train フォーマットをロードするときに祝祭日指定するかどうかを設定する。
  + Holiday ... 今日を祝祭日として読み込む
  + Off ... 今日を通常日（祝祭日ではない）として読み込む

- iCalendar Alarm  
  iCalendar フォーマットをロードするときにアラームデータとするか設定する。
  + Alarm On ... アラームデータとして読み込む
  + Alarm Off ... 通常データ（アラームデータではない）として読み込む

## 一般メニュー  

予定で ENTER ボタンを押すと表示されるメニュー。  
設定画面で並び替えができます。

- Item Information  
  アイテム情報を表示する
- Goto Next Item  
  現在時刻に一番近い時間のアイテムに移動する  
  ソート順を時間にしておくこと
- Goto Top Item  
  先頭のアイテムに移動する
  タイトルに移動したい時にも使う
- Push Timeline  
  該当アイテムをPebbleのタイムラインに登録する
  うまく動かないこともあります
- Toggle Alarm  
  該当アイテムのアラームのOn/Offを切り替える
- Alarm Mode  
  アラームを一括On/Off/プリセット値に戻すを実行する
- Days Format  
  経過日時の表示形式を切り替える
- Periodic Time  
  定期的なイベントの時刻を超えた後に直ぐ未来の予定として扱うか半周期まで過去のイベントとして扱うか切り替える
- Sort Items  
  アイテムの並び替え順を時間順、名前順、並び替え無しから選ぶ。通常は時間順にしておく
- Display Second  
  秒表示On/Off を切り替える
- --- More Menu ---  
  ここから下は拡張メニュー
- Add Alarm item  
  該当アイテム前後にアラームアイテムを追加する
- Add Now Alarm  
  現在時刻の近くにアラームアイテムを追加する
- Delete Item  
  アイテムを削除する。通常は動的に追加したアラームアイテムの削除に使う
- Wakeup by Alarm  
  アラームによって Multi Time Viewer を起動するかどうか設定する
- Highlight Font  
  ハイライト表示しているフォントの大きさを調整する
- Color Theme  
  カラーテーマを切り替える
- Assign Long Push  
  Enter 長押し時の動作をメニュー項目の中から選ぶ
- Date Format  
  年月日の並び順を設定する
- Time Type  
  12時間24時間表示を切り替える
- DisConnect Vibe  
  スマホApp切断時に振動するかどうか切り替える
- Reload items  
  現在のタイトルのアイテムを読み込み直す
- Three Lines Display  
  ２行表示(タイトルと経過時間のみ表示)、３行表示(アイテムのオリジナル時間表示付き)を切り替える

## 設定画面 

